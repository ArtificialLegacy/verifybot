<!DOCTYPE html>
<html lang="en">

<%- include("blocks/head.ejs") %>
<link rel="stylesheet" href="../../public/style.css">

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-danger">
        <a class="navbar-brand" href="/staff"><span class="fa fa-lock"></span> Staff Panel</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#nav-content" aria-controls="nav-content" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="nav-content">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/staff/support">Support Panel</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/staff/mod">Mod Panel</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/staff/admin">Admin Panel</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container mt-3">
        <h1>Bans <div class="badge badge-danger"><%= data.bans.size %></div></h1>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">User Tag</th>
                    <th scope="col">User ID</th>
                    <th scope="col">Ban Reason</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <%- data.bans.sort((a, b) => a.user.tag > b.user.tag).map(ban => {
                    return `
                    <tr>
                        <td>${ban.user.tag}</td>
                        <td>${ban.user.id}</td>
                        <td>${ban.reason || "No reason provided."}</td>
                        <td><a href="bans/revoke/${ban.user.id}" class="btn btn-danger">Revoke Ban</a></td>
                    </tr>`;
                }).join("\n") %>
            </tbody>
        </table>
    </div>

    <%- include("../blocks/footer.ejs") %>
</body>

</html>